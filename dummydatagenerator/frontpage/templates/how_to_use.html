{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="row">
    <div class="col-3">
      <nav id="navbar-example3" class="h-100 flex-column align-items-stretch pe-4 border-end">
        <nav class="nav nav-pills flex-column">
          <a class="nav-link" href="#item-1">1. なにができるの？</a>
          <a class="nav-link" href="#item-2">2. データを作る</a>
            <nav class="nav nav-pills flex-column">
              <a class="nav-link ms-3 my-1" href="#item-2-1">2-1. 項目名を入力</a>
              <a class="nav-link ms-3 my-1" href="#item-2-2">2-2. 項目タイプを選択</a>
              <nav class="nav nav-pills flex-column">
                <a class="nav-link ms-5 my-1" href="#item-2-2-A">2-2-A. 項目作成</a>
                <a class="nav-link ms-5 my-1" href="#item-2-2-B">2-2-B. リンク項目作成</a>
              </nav>    
              <a class="nav-link ms-3 my-1" href="#item-2-3">2-3. データタイプを選択</a>
              <nav class="nav nav-pills flex-column">
                <a class="nav-link ms-5 my-1" href="#item-2-3-A">2-3-A. 文字</a>
                <a class="nav-link ms-5 my-1" href="#item-2-3-B">2-3-B. 数値</a>
                <a class="nav-link ms-5 my-1" href="#item-2-3-C">2-3-C. 日付</a>
                <a class="nav-link ms-5 my-1" href="#item-2-3-D">2-3-D. 日時</a>
              </nav>  
              <a class="nav-link ms-3 my-1" href="#item-2-4">2-4. JSONを作成</a>
              <a class="nav-link ms-3 my-1" href="#item-2-5">2-5. JSONとして保存</a>
            </nav>
          <a class="nav-link" href="#item-3">3. データを作る</a>
            <nav class="nav nav-pills flex-column">
              <a class="nav-link ms-3 my-1" href="#item-3-1">3-1. JSONを入力</a>
              <a class="nav-link ms-3 my-1" href="#item-3-2">3-2. CSVとして保存</a>
            </nav>
          <a class="nav-link" href="#item-4">4. データを作る</a>
        </nav>
      </nav>
    </div>
  
    <div class="col">
      <div data-bs-spy="scroll" data-bs-target="#navbar-example3" data-bs-smooth-scroll="true" class="scrollspy-example-2" tabindex="0">
        <div class="mt-5" id="item-1">
          <h1>1. なにができるの？</h1>
          <p class="text-break">
            <p class="text-break">
              例えばExcelだと、こんな営業売上データを作るのは少し手間がかかります。
              <div class="col-9">
                <img src="../media/image/how_to_use/base.png" class="img-thumbnail" alt="sample2">
              </div>
              <br>
              手間がかかる要素としては以下の3点があげられます。
              <ul class="mt-3 ml-5 list-inline" style="list-style-type:disc">
                <li>日付と営業担当者の全パターンの組み合わせ</li>
                <li>営業担当者と部署を1対1で対応</li>
                <li>売上は数値でランダム</li>
              </ul>
              また、売上といった数値データのランダム生成した際、件数が大きくなると平均的になりグラフ化したときに平坦になりがちです。
              <h3 class="mt-3 fw-bold">本アプリケーションでは、項目同士の全パターン組み合わせや1対1対応とするデータを簡単に作成することができます！</h3>
              <h3 class="fw-bold">また、日付に対して売上を右肩上がりにしたり、波打たせたりと傾向を付与することができます！</h3>
              <div class="col-9">
                <img src="../media/image/how_to_use/trend.png" class="img-thumbnail" alt="sample2">
              </div>
            </p>
          </p>
        </div>
        <div class="mt-5" id="item-2">
          <h1>2. データを作る</h1>
          <p class="text-break">
            売上や日付の項目を作成するステップです。
            <div class="col-9">
              <img src="../media/image/sample1.png" class="img-thumbnail" alt="sample2">
            </div>
            <p class="mt-5">営業担当者ごとの売上データの作成を例にすると、最終的に下記のようなJSONを作成します。</p> 
            <div class="col-9">
              <img src="../media/image/how_to_use/base.png" class="img-thumbnail" alt="sample2">
            </div>
            <div class="mt-5" >
<textarea readonly class="form-control h-100" id="exampleFormControlTextarea1" rows="6">[
  {"column_name": "日付", "generate_type": "product", "generate_data": ["2025/01/01", "2025/01/03", "2025/01/05"]},
  {"column_name": "営業担当者", "generate_type": "product", "generate_data": ["田中陽介", "三田恵", "佐田夏樹"]},
  {"column_name": "所属部署", "linked_cname": "営業担当者", "generate_data": ["第一営業部", "第一営業部", "第二営業部"]},
  {"column_name": "売上", "generate_type": "random", "generate_data": [100000, 101000, 102000, 103000, <省略> , 999000, 1000000]}
]</textarea>
            </div>
          </p>
          <div class="mt-5" id="item-2-1">
            <h3>2-1. 項目名を入力</h3>
            <p class="text-break">
              「売上」や「営業担当者」など、作成したい項目を入力します。
              <div class="col-9">
                <img src="../media/image/how_to_use/columnname_input.png" class="img-thumbnail" alt="sample2">
              </div>
            </p>
          </div>
          <div class="mt-5" id="item-2-2">
            <h3>2-2. 項目タイプを選択</h3>
            <p class="text-break">
              項目タイプは作成したいデータに合わせて指定します。
              <div class="mt-2 col-9">
                <img src="../media/image/how_to_use/columntype_selected.png" class="img-thumbnail" alt="sample2">
              </div>
              <div class="mt-5" id="item-2-2-A">
                <h5>2-2-A. 項目作成</h5>
                <p class="text-break">
                  営業担当者や日付などの組み合わせを出力したい項目や、売上金額などのランダムデータに対して「項目作成」を選択します。<br>
                  営業担当者や日付などは「組み合わせ」、売上などは「ランダム」を選択します。
                  <div class="mt-2 col-9">
                    <img src="../media/image/how_to_use/normalcolumn_selected.png" class="img-thumbnail" alt="sample2">
                  </div>
                </p>
              </div>
              <div class="mt-5" id="item-2-2-B">
                <h5>2-2-B. リンク項目作成</h5>
                <p class="text-break">
                  所属部署のように、特定の項目と1対1対応させたいデータに対して「リンク項目作成」を選択します。<br>
                  1対1対応のため、リンク項目と被リンク項目のデータ数は同じにしなければなりません。<br>
                  以下は、「所属部署」という項目を「営業担当者」に1対1対応させる場合の設定例です。
                  <div class="mt-2 col-9">
                    <img src="../media/image/how_to_use/linkcolumn_selected.png" class="img-thumbnail" alt="sample2">
                  </div>
                </p>
              </div>
            </p>
          </div>
          <div class="mt-5" id="item-2-3">
            <h3>2-3. データタイプを選択</h3>
            <p class="text-break">
              データタイプは作成したいデータに合わせて指定します。
              指定後、「generate」ボタンを押すと「★出来上がったJSONオブジェクトパーツ★」欄にテキストが出力されます。
              <div class="mt-5" id="item-2-3-A">
                <h5>2-3-A. 文字</h5>
                <p class="text-break">
                  営業担当者, 商品名, 品番コードといった文字データを生成する場合に設定します。
                  文字データは改行区切りで直接入力します。
                  <div class="mt-2 col-9">
                    <img src="../media/image/how_to_use/datatype_String.png" class="img-thumbnail" alt="sample2">
                  </div>
                  架空の個人情報や会社名を自動で生成するフリーツールも利用可能です。
                  <p><a href="https://testdata.userlocal.jp/" class="link-underline-primary">個人情報テストジェネレーター</a></p>
                </p>
              </div>
              <div class="mt-5" id="item-2-3-B">
                <h5>2-3-B. 数値</h5>
                <p class="text-break">
                  売上金額, セミナー参加人数, 工場での品目生産個数といった数値データを作成する場合に設定します。<br>
                  最小値、最大値、ステップをそれぞれ入力します。<br>
                  最大値は生成データに含まれないので注意してください。（100,000~1,000,000のデータを生成したい場合は、最大値を1,000,001に設定）
                  <div class="mt-2 col-9">
                    <img src="../media/image/how_to_use/datatype_Number.png" class="img-thumbnail" alt="sample2">
                  </div>
                </p>
              </div>
              <div class="mt-5" id="item-2-3-C">
                <h5>2-3-C. 日付</h5>
                <p class="text-break">
                  契約日, 購入日, 稼働日といった日付データを作成する場合に設定します。<br>
                  最小日付、最大日付、ステップ（日）をそれぞれ入力します。<br>
                  最大日付は生成データに含まれないので注意してください。（1/1~1/7のデータを生成したい場合は、最大値を1/8に設定）
                  <div class="mt-2 col-9">
                    <img src="../media/image/how_to_use/datatype_Date.png" class="img-thumbnail" alt="sample2">
                  </div>
                </p>
              </div>
              <div class="mt-5" id="item-2-3-D">
                <h5>2-3-D. 日時</h5>
                <p class="text-break">
                  入店時刻, 作業開始時刻, 退勤時刻といった日時データを作成する場合に設定します。<br>
                  最小日時、最大日時、ステップ（秒）をそれぞれ入力します。<br>
                  例えば1時間単位で生成したい場合は、ステップには「3600」を指定します。<br>
                  最大日時は生成データに含まれないので注意してください。（1/1~1/7のデータを生成したい場合は、最大値を1/8に設定）
                  <div class="mt-2 col-9">
                    <img src="../media/image/how_to_use/datatype_Datetime.png" class="img-thumbnail" alt="sample2">
                  </div>
                </p>
              </div>
            </p>
          </div>
          <div class="mt-5" id="item-2-4">
            <h3>2-4. JSONを作成</h3>
            <p class="text-break">
              「generate」ボタンをクリックすると、「★出来上がったJSONオブジェクトパーツ★」欄にテキストが表示されます。<br>
              テンプレートを参考に、テキストを「JSON作成エリア」にカンマ区切りで追加していきます。<br>
              営業売上データを作成する場合は、下記のようにJSONを作成していきます。（設定部分は省略）<br>
              <div class="mt-5 col-9">
                <h5>(I) 日付を追加</h5>
                <img src="../media/image/how_to_use/add_date.gif" class="img-thumbnail" alt="sample2">
              </div>
              <div class="mt-5 col-9">
                <h5>(II) 営業担当者を追加</h5>
                <img src="../media/image/how_to_use/add_salesman.gif" class="img-thumbnail" alt="sample2">
              </div>
              <div class="mt-5 col-9">
                <h5>(III) 所属部署を追加</h5>
                <img src="../media/image/how_to_use/add_affiliation.gif" class="img-thumbnail" alt="sample2">
              </div>
              <div class="mt-5 col-9">
                <h5>(IV) 売上を追加</h5>
                <img src="../media/image/how_to_use/add_sales.gif" class="img-thumbnail" alt="sample2">
              </div>
            </p>
          </div>
          <div class="mt-5" id="item-2-5">
            <h3>2-5. JSONとして保存</h3>
            <p class="text-break">
              作成したJSONをファイルとして保存することができます。<br>
              ただし「3. データを増やす」章では、作成したJSONを<strong>テキスト</strong>として入力します。<br>
              ファイルとしてアップロードするわけではないため、あくまで保存用としての機能になります。
              <div class="mt-2 col-9">
                <img src="../media/image/how_to_use/save_as_JSON.png" class="img-thumbnail" alt="sample2">
              </div>
            </p>
          </div>
        </div>
        <div class="mt-5" id="item-3">
          <h1>3. データを増やす</h1>
          <p class="text-break">
            「2. データを作る」章で作成したJSONを入力して、CSVファイルを作成します。<br>
            JSONファイルをコピーして、「データを増やす」ボタンをクリックしましょう。
            <h5 class="mt-5">JSONのコピー</h5>
            <div class="mt-2 col-9">
              <img src="../media/image/how_to_use/JSON_copied.png" class="img-thumbnail" alt="sample2">
            </div>
            <h5 class="mt-5">「データを増やす」ボタンをクリック</h5>
            <div class="mt-2 col-9">
              <img src="../media/image/how_to_use/move_to_prod_data.png" class="img-thumbnail" alt="sample2">
            </div>
            <div class="mt-5" id="item-3-1">
              <h3>3-1. JSONを入力</h3>
              <p class="text-break">
                コピーしたJSON形式のテキストをフォームに入力して、「JSONチェック」ボタンをクリックします。<br>
                問題がない場合は、「JSONフォーマットに問題はありませんでした。」とメッセージが表示されます。<br>

                <div class="mt-2 col-9">
                  <img src="../media/image/how_to_use/paste_JSON.gif" class="img-thumbnail" alt="sample2">
                </div>

                問題がある場合は、メッセージに従ってJSON形式のテキストを確認して修正します。<br>
                <h5 class="mt-5">JSONのフォーマットエラー</h5>
                カンマが無かったり、全角スペースが入っていたりと、JSONのフォーマットに従っていない場合に発生するエラーです。
                <div class="mt-2 col-9">
                  <img src="../media/image/how_to_use/JSON_format_error.png" class="img-thumbnail" alt="sample2">
                </div>
                <h5 class="mt-5">その他のエラー</h5>
                CSVを作成にあたり、ルールに従っていない場合に発生するエラーです。<br>
                JSONが下記ルールに従っているか確認してください。
                <ol class="mt-2">
                  <li>1ブロックのキーは3つであること</li>
                  <li>3つのキーは以下の2パターンのどちらかであること</li>
                    ["column_name": str, "generate_type": "product" or "random", "generate_data": list] <br>
                    ["column_name": str, "linked_cname": str, "generate_data": list]
                  <li>同じカラム名は存在しないこと</li>
                  <li>generate_typeはproductかrandomであること</li>
                  <li>linked_cnameは存在しているカラムを指定すること</li>
                  <li>linkカラムとlink元のデータサイズは同じであること</li>
                </ol>
                <div class="mt-2 col-9">
                  <img src="../media/image/how_to_use/JSON_rule_error.png" class="img-thumbnail" alt="sample2">
                </div>
              </p>              
            </div>
            <div class="mt-5" id="item-3-2">
              <h3>3-2. CSVとして保存</h3>
              <p class="text-break">
                「Generate!」ボタンをクリックすると、作成されたデータの先頭と末尾10件がプレビューとして表示されます。<br>
                問題なければ「Download CSV」ボタンからCSVを保存します。
                <div class="mt-2 col-9">
                  <img src="../media/image/how_to_use/prod_data_result.png" class="img-thumbnail" alt="sample2">
                </div>
              </p>
            </div>
          </p>
        </div>
        <div class="mt-5" id="item-4">
          <h1>4. データに傾向をつける</h1>
          <p class="text-break">...</p>
        </div>
      </div>
    </div>
  </div>

  {% endblock %}